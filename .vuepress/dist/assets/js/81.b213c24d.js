(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{159:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"javascript-dom基础-99-dom-个人总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#javascript-dom基础-99-dom-个人总结","aria-hidden":"true"}},[t._v("#")]),t._v(" JavaScript DOM基础 ---- 99. DOM 个人总结")]),a("h4",{attrs:{id:"关于资料查询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#关于资料查询","aria-hidden":"true"}},[t._v("#")]),t._v(" 关于资料查询")]),a("p",[t._v("主推mdn和w3cschool，真心好。")]),a("h4",{attrs:{id:"html-dom-简介"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html-dom-简介","aria-hidden":"true"}},[t._v("#")]),t._v(" HTML DOM 简介")]),a("blockquote",[a("p",[t._v("HTML DOM 定义了所有 HTML 元素的对象和属性，以及访问它们的方法。\nHTML DOM 是关于如何获取、修改、添加或删除 HTML 元素的标准。")])]),a("h4",{attrs:{id:"html-dom-节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html-dom-节点","aria-hidden":"true"}},[t._v("#")]),t._v(" HTML DOM 节点")]),a("blockquote",[a("p",[a("em",[a("strong",[t._v("在 HTML DOM 中，所有事物都是节点。DOM 是被视为节点树的 HTML。")])])])]),a("p",[t._v("DOM 节点，根据 W3C 的 HTML DOM 标准，HTML 文档中的所有内容都是节点：")]),a("ul",[a("li",[t._v("整个文档就是一个文档节点")]),a("li",[t._v("每一个HTML元素是一个元素节点")]),a("li",[t._v("HTML元素的文本也是一个文本节点")]),a("li",[t._v("每一个HTML的属性也是一个属性节点")]),a("li",[t._v("注释也是注释节点")])]),a("p",[t._v("HTML DOM 节点数")]),a("p",[t._v("HTML DOM 将HTML  文档视作树结构。这种树结构被统称为节点数：")]),a("p",[t._v("HTML DOM Tree 实例")]),a("p",[a("img",{attrs:{src:"http://static.zybuluo.com/szy0syz/7gzcwkkvflsvtlj8n1hsgcgs/dom-tree.png",alt:"dom-tree.png-34kB"}})]),a("blockquote",[a("p",[t._v("通过HTML DOM，树中的所有节点均可通过JavaScript进行访问。所有HTML元素(节点)均可修改，也可以创删除节点。")])]),a("h4",{attrs:{id:"父节点、子节点和兄弟节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#父节点、子节点和兄弟节点","aria-hidden":"true"}},[t._v("#")]),t._v(" 父节点、子节点和兄弟节点")]),a("p",[t._v("节点数中节点彼此有层级关系。")]),a("p",[t._v("父(parent)、子(child)和兄弟(sibling)等属于用于描述这些关系。父节点拥有子节点。同级的子节点被称为兄弟节点。")]),a("ul",[a("li",[t._v("在节点数中，顶端节点被称为根(root)")]),a("li",[t._v("每个节点都有父节点，除了根(root)")]),a("li",[t._v("一个节点可以拥有任意数量的子节点")]),a("li",[t._v("兄弟节点是拥有相同父节点的节点")])]),a("p",[t._v("来个图部分展示一下节点数以及他们之间的关系")]),a("p",[a("img",{attrs:{src:"http://static.zybuluo.com/szy0syz/lkekkdkpplyhuem5xu6m6g2k/dom-tree-relation.png",alt:"dom-tree-relation.png-30.2kB"}})]),a("blockquote",[a("p",[t._v("w3cshcool上的例子讲错了，"),a("code",[t._v("html")]),t._v("是有父节点的，就是文档节点"),a("code",[t._v("document")]),t._v("。")])]),a("h4",{attrs:{id:"小细节记录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小细节记录","aria-hidden":"true"}},[t._v("#")]),t._v(" 小细节记录")]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 我在我博客http://jerryshi.com执行这个，你懂的我为什么不加all，毕竟一个文档只有一个html根节点嘛。")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" html "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"html"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("html"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childNodes"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// -> 3")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// html.childNodes对象集中包含`head`、`body`和`text`各一个。")]),t._v("\nconsole"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("html"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("children"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),a("span",{attrs:{class:"token comment"}},[t._v("//  -> 2")]),t._v("\n")])])]),a("p",[t._v("结论：")]),a("p",[t._v("Q：节点的"),a("code",[t._v("childNodes")]),t._v("和"),a("code",[t._v("children")]),t._v("属性到底根据啥原则来细分节点的归类呢？\nA：这个问题问得好，小伙，我看好你哦。来来来，走个原理瞅瞅。\n第一步，我们先看下这个text到底是啥？哦~原来是"),a("code",[t._v("↵↵")]),t._v("两个换行符，其实就是代码中"),a("code",[t._v("<head>")]),t._v("和"),a("code",[t._v("<body>")]),t._v("间的那个空行，空行怎么表示呢？就是两个换行符"),a("code",[t._v("↵↵")]),t._v("(以后强迫症患者别代码隔行，虽然文档好看，难道你想在你根节点"),a("code",[t._v("html.childNodes")]),t._v("下多加text节点？难道这样的文档会完美？😂)。\n第二步，我们再来看看"),a("code",[t._v("text")]),t._v("接口的原型链，或者说看"),a("code",[t._v("text")]),t._v("接口继承。我就不画图了，手工文字做图法。")]),a("p",[a("code",[t._v("Text")]),t._v("接口的原型链是这样的："),a("code",[t._v("Text --\x3e CharacterData --\x3e Node --\x3e EventTarget")]),a("code",[t._v("HTMLDivElement")]),t._v("接口的原型链是这样的："),a("code",[t._v("HTMLDivElement --\x3e Element --\x3e Element --\x3e Node --\x3e EventTarget")])]),a("p",[t._v("好了，看完原型链我们应该大概推算出：")]),a("ol",[a("li",[a("code",[t._v("childNodes")]),t._v("是把所有实现了Node接口的节点堆成一个类数组返回，常见的包括元素节点、attr属性节点、文本节点等")]),a("li",[a("code",[t._v("children")]),t._v("则只把实现了Element接口的节点堆成一个类数组返回")])]),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token comment"}},[t._v("// 伪代码大概模拟下两个方法")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 1.引擎从该元素的HTML代码中提取出所有Node节点")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("childNodes "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("createNodes")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 自己本身又不是children")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("children")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" res "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 类数组的对象集")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" key "),a("span",{attrs:{class:"token keyword"}},[t._v("in")]),t._v(" childNodes"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    res"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" childNodes"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" res\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("hr"),a("h4",{attrs:{id:"html-dom-nodes-prototype"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html-dom-nodes-prototype","aria-hidden":"true"}},[t._v("#")]),t._v(" HTML DOM Nodes prototype")]),a("p",[a("img",{attrs:{src:"http://static.zybuluo.com/szy0syz/uli7yhkhho89xpdar1hcfwj2/dom-node-prototype.png",alt:"dom-node-prototype.png-91.1kB"}})])])}],!1,null,null,null);s.default=e.exports}}]);