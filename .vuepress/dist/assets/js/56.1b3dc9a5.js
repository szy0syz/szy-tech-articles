(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{180:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),t._m(17),t._m(18),t._m(19),t._m(20),t._m(21),t._m(22),a("p",[t._v("流程")]),t._m(23),t._m(24),t._m(25),t._m(26),a("ul",[a("li",[t._v("RAP MOCK数据平台")]),a("li",[a("a",{attrs:{href:"http://rap2.taobao.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("RAP2网址"),a("OutboundLink")],1)]),a("li",[t._v("185505508@qq.com__s444")])]),a("p",[t._v("23:39")]),t._m(27),t._m(28),a("p",[t._v("骑牛云获取token")]),t._m(29),t._m(30),a("p",[t._v("七牛云 js-sdk 客户端直传")]),t._m(31),t._m(32),t._m(33),t._m(34),a("p",[t._v("在koa中同步函数使用await会造成响应超级慢！")]),a("p",[t._v("this.$router.go(-1) 返回上一页")]),t._m(35),a("p",[t._v("在vue中可以直接在v-model后加trim去前后空格")]),t._m(36),t._m(37),t._m(38),t._m(39),t._m(40),a("p",[t._v("微信测试号管理---修改接口域名时需改三个地方")]),t._m(41),t._m(42),t._m(43),t._m(44),t._m(45),t._m(46),t._m(47),a("p",[t._v("在招聘面试100多人后，我总结了以下三个方面：")]),t._m(48),t._m(49),a("p",[t._v("后端如何添加collection并使用")]),t._m(50)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"vue-ssr-koa2-全栈开发微信公众号-小程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-ssr-koa2-全栈开发微信公众号-小程序","aria-hidden":"true"}},[this._v("#")]),this._v(" Vue SSR + Koa2 全栈开发微信公众号 + 小程序")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"第-1-章"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第-1-章","aria-hidden":"true"}},[this._v("#")]),this._v(" 第 1 章")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"http://static.zybuluo.com/szy0syz/qbf3fz7hgsxm6ykwigr8s8jm/w01.png",alt:"w01.png-147.5kB"}}),s("img",{attrs:{src:"http://static.zybuluo.com/szy0syz/bze9frkh04el10x9rct2ha3q/image.png",alt:"image.png-213.2kB"}}),s("img",{attrs:{src:"http://static.zybuluo.com/szy0syz/u7kwc6lg19tyvvyykagzkrfb/image.png",alt:"image.png-745.1kB"}}),s("img",{attrs:{src:"http://static.zybuluo.com/szy0syz/uor52mpuqf5nonkgg3evfesd/image.png",alt:"image.png-286.4kB"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"阿里云-ecs-服务器环境部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#阿里云-ecs-服务器环境部署","aria-hidden":"true"}},[this._v("#")]),this._v(" 阿里云 ECS 服务器环境部署")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("sudo apt-get update")])]),a("li",[a("code",[t._v("sudo apt-get install git vim openssl build-essential lib ssh-dev wget curl")])]),a("li",[t._v("install NVM")]),a("li",[t._v("为防火墙开一些测试端口 "),a("code",[t._v("sudo vi /etc/iptables.up.rules")])]),a("li",[t._v("生效防火墙规则 "),a("code",[t._v("sudo iptables -restore < /etc/iptables.up.rules")])]),a("li",[t._v("也可以关闭防火墙 "),a("code",[t._v("sudo ufw stop")])]),a("li",[t._v("安装 yarn")]),a("li",[a("code",[t._v("yarn config set registry https://registry.npm.taobao.org")])]),a("li",[a("code",[t._v("npm install vue-cli pm2 -g")])]),a("li",[a("code",[t._v("sudo service apache2 stop")]),t._v(" 停止服务")]),a("li",[a("code",[t._v("update-rc.d -f apache2 remove")]),t._v(" 删除 Apache")]),a("li",[a("code",[t._v("sudo apt-get remove apache2")]),t._v(" 彻底删除 Apache")]),a("li",[a("code",[t._v("sudo apt-get update")]),t._v(" 更新系统所有的安装包")]),a("li",[a("code",[t._v("sudo apt-get install nginx")])]),a("li",[a("code",[t._v("nginx -v")]),t._v(" 查看 Nginx 版本")]),a("li",[a("code",[t._v("cd /etc/nginx/conf.d")]),t._v(" 这个文件夹包含所有部署的配置文件")]),a("li",[t._v("nginx 配置文件取名规范: "),a("code",[t._v("ynzj-jerryshi-com-8080.conf")]),t._v("，可以在 upstream 设置负载均衡")]),a("li",[t._v("安装 MongoDB v3.6")]),a("li",[t._v("安装 public KEY "),a("code",[t._v("sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv 2930ADAE8CAF5059EE73BB4B58712A2291FA4AD5")])]),a("li",[t._v("创建文件，这里需改 ★ 阿里云的镜像，速度快。 "),a("code",[t._v('echo "deb [ arch=amd64,arm64 ] https://mirrors.aliyun.com/mongodb/apt/ubuntu xenial/mongodb-org/3.6 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-3.6.list')])]),a("li",[a("code",[t._v("sudo apt-get update")])]),a("li",[a("code",[t._v("sudo apt-get install -y mongodb-org")]),t._v(" 在腾讯云也必须加-org")]),a("li",[t._v("必须先创建mongodb的数据存储目录后再开启服务 "),a("code",[t._v("mkdir /data/db")])]),a("li",[a("code",[t._v("sudo service mongod start")]),t._v(" 开启服务")]),a("li",[t._v("查看 mongodb 默认日志 "),a("code",[t._v("cat /var/log/mongodb/mongod.log")])]),a("li",[t._v("如果安装失败，可以进入目录直接修改源 "),a("code",[t._v("cd /etc/apt/sources.list.d/")]),a("code",[t._v("ls")]),a("code",[t._v("vim xxx.list")])]),a("li",[a("code",[t._v("vim /etc/mongod.conf")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("use admin\ndb.addUser"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"username"')]),t._v(", "),a("span",{attrs:{class:"token string"}},[t._v('"password"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 在testdb数据库中创建普通账号")]),t._v("\nuse testdb\ndb.addUser"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"test1"')]),t._v(","),a("span",{attrs:{class:"token string"}},[t._v('"123"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndb.addUser"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"test2"')]),t._v(","),a("span",{attrs:{class:"token string"}},[t._v('"123"')]),t._v(", true"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" //test2用户仅有读取数据的权限\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# mongod.conf")]),t._v("\nsecurity:\n  authorization: "),a("span",{attrs:{class:"token string"}},[t._v("'enabled'")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"配置-git-私有仓库管理代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置-git-私有仓库管理代码","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置 Git 私有仓库管理代码")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("ssh-keygen -t rsa -b 4096 -C 'szy0syz@gmail.com'")]),t._v(" 如果出现密码不要输入忽略掉")]),a("li",[t._v("使用以上命令前必须先看时候已经生成过 "),a("code",[t._v("cd ~/.ssh")])]),a("li",[t._v("ssh 代理开启 "),a("code",[t._v('eval "$(ssh-agent -s)"')])]),a("li",[t._v("进入"),a("code",[t._v("~/.ssh")]),t._v("后打开 id_rsa.pub 文件查看公钥，之后就可以去 git 管理页面添加公钥")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"配置-pm2-一键部署发布项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置-pm2-一键部署发布项目","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置 PM2 一键部署发布项目")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("创建"),s("code",[this._v("ecosystem.json")]),this._v(' "生态系统"的 json，pm2 读取此脚本后去服务器部署')])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"apps"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v('"name"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"Ice"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v('"script"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"server.js"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v('"instances"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("2")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v('"env"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token property"}},[t._v('"COMMON_VARIABLE"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"true"')]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v('"env_production"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token property"}},[t._v('"NODE_ENV"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"production"')]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"deploy"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"production"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v('"user"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"root"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v('"host"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v('"47.92.154.146"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v('"ref"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"origin/master"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v('"repo"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"https://git.coding.net/szy0syz/yncyzj.git"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v('"path"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"/home/wwwroot/yncyzj"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v('"ssh_options"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"StrictHostKeyChecking=no"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v('"pre-delpoy-local"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("\"ehco 'Deploy Done!'\"")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v('"env"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token property"}},[t._v('"NODE_ENV"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"production"')]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("first: "),s("code",[this._v("pm2 deploy ecosystem.json production setup")])]),s("li",[this._v("then: "),s("code",[this._v("pm2 deploy ecosystem.json production")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"pm2-资源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pm2-资源","aria-hidden":"true"}},[this._v("#")]),this._v(" pm2 资源")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("https://segmentfault.com/q/1010000012007247")])]),s("li",[s("code",[this._v("https://segmentfault.com/a/1190000005171229")])]),s("li",[s("code",[this._v("https://www.kancloud.cn/daiji/pm2/395298")])]),s("li",[s("code",[this._v("http://pm2.keymetrics.io/docs/usage/application-declaration/")])]),s("li",[s("code",[this._v("https://www.kancloud.cn/daiji/pm2/395298")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"第-2-章"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第-2-章","aria-hidden":"true"}},[this._v("#")]),this._v(" 第 2 章")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("全新邮箱注册微信开放平台，绑定公众号和小程序后，可以那到 uionID，此后在公众号和小程序上可以用相同 id 获取同一用户的数据")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"第-4-章"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第-4-章","aria-hidden":"true"}},[this._v("#")]),this._v(" 第 4 章")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-01-ngrok-本地代理服务"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-01-ngrok-本地代理服务","aria-hidden":"true"}},[this._v("#")]),this._v(" 4-01 Ngrok 本地代理服务")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("下载 ngrok.cc 客户端")]),s("li",[this._v("注册 ngrok.cc")]),s("li",[this._v("启动 sunny_ngrok "),s("code",[this._v("ngrok client xxxxxxxxx")])]),s("li",[this._v("jerry 测试: "),s("code",[this._v("71eb740946c7b826")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-02-构建初始项目验证公众号服务器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-02-构建初始项目验证公众号服务器","aria-hidden":"true"}},[this._v("#")]),this._v(" 4-02 构建初始项目验证公众号服务器")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("babel编译启动服务")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'babel-core/register'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token string"}},[t._v("'presets'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token string"}},[t._v("'stage-3'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'latest-node'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'target'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'current'")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'babel-polyfill'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'./server'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_4-13-在-vue-ssr-中实现微信网页授权机制与用户资料读取"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-13-在-vue-ssr-中实现微信网页授权机制与用户资料读取","aria-hidden":"true"}},[this._v("#")]),this._v(" 4-13 在 Vue SSR 中实现微信网页授权机制与用户资料读取")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("微信访问/a?username=jerry&age=20")]),s("li",[this._v("跳转到微信服务器 url /a redirect_url=/b")]),s("li",[this._v("/b?code&state 其中state就是a页面中的查询参数")]),s("li",[this._v("code => access_token openid => user info")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("http://jerrys.free.ngrok.cc/wechat-redirect?a=111&b=222")])]),s("li",[this._v("openid: "),s("code",[this._v("o9ln70h0TgqD-N28g0-o8-VYXSAw")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"mock-微信网页开发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mock-微信网页开发","aria-hidden":"true"}},[this._v("#")]),this._v(" Mock & 微信网页开发")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_5-1-利用rap-mock提供家族数据的测试接口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-利用rap-mock提供家族数据的测试接口","aria-hidden":"true"}},[this._v("#")]),this._v(" 5-1 利用RAP Mock提供家族数据的测试接口")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"第6章-爬虫"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第6章-爬虫","aria-hidden":"true"}},[this._v("#")]),this._v(" 第6章 爬虫")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"第7章"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第7章","aria-hidden":"true"}},[this._v("#")]),this._v(" 第7章")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("qiniu"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("ACCESS_KEY")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" config"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("qiniu"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("AK")]),t._v("\nqiniu"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("conf"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("SECRET_KEY")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" config"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("qiniu"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("SK")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bucket "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" config"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("qiniu"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("bucket\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" bucketManager "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("qiniu"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rs"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Client")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{attrs:{class:"token function-variable function"}},[t._v("uptoken")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("qiniu"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rs"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("PutPolicy")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token template-string"}},[a("span",{attrs:{class:"token string"}},[t._v("`")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("bucket"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v(":")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("key"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v("`")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("token")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_7-6"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-6","aria-hidden":"true"}},[this._v("#")]),this._v(" 7-6")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" self "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("this")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" observer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("next")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("total"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("error")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("log")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token function"}},[t._v("complete")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    self"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("edited"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("images"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("push")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" observable "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" qiniu"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("upload")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" token"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("null")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" config"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nobservable"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("subscribe")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("observer"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("// 上传开始")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_8-4-增加前端微信二跳中间件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-4-增加前端微信二跳中间件","aria-hidden":"true"}},[this._v("#")]),this._v(" 8-4 增加前端微信二跳中间件")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h4",{attrs:{id:"nuxt中间件使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nuxt中间件使用","aria-hidden":"true"}},[this._v("#")]),this._v(" nuxt中间件使用")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[t._v("pages/admin/index.vue - script 中添加中间件 "),a("code",[t._v("middleware: 'wevaht-auth'")])]),a("li",[t._v("在项目根目录创建文件夹"),a("code",[t._v("middleware")]),t._v("，并新建"),a("code",[t._v("wevaht-auth.js")]),t._v("，内容为 "),a("code",[t._v("export default function({store, route, redirect}) {...}")])]),a("li",[t._v("这样就表示每次在admin的首页中调用项目根目录下的中间件")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_9-1-微信支付"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-1-微信支付","aria-hidden":"true"}},[this._v("#")]),this._v(" 9-1 微信支付")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("inputinput")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),a("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("model"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("trim"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v("'info.phoneNumber'")]),t._v(" type"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v("'tel'")]),t._v(" placeholder"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v("'你的电话'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_9-3-支付功能的申请流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-3-支付功能的申请流程","aria-hidden":"true"}},[this._v("#")]),this._v(" 9-3 支付功能的申请流程")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("申请完微信支付之后，会收到两封邮件，一封是通知开通了微信支付，另一封是微信官方开通的商户号，里面会有商户的登录信息；")]),s("li",[this._v("微信商户里，设置网页授权的域名、JS安全域名、业务域名等，并且域名要求备案过；")]),s("li",[this._v("商户平台的产品中心的开放配置中，去添加公众号支付授权目录；")]),s("li",[this._v("下载官方demo实例代码，拷贝核心代码到项目中为己所用；")]),s("li",[this._v("在商户平台中下载API证书，设置API秘钥。需要用此证书在服务器端生成预支付订单。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_10-2-代理环境集成与正式打包测试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-2-代理环境集成与正式打包测试","aria-hidden":"true"}},[this._v("#")]),this._v(" 10-2 代理环境集成与正式打包测试")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("启动生产环境："),s("code",[this._v("NODE_ENV=production node start")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("接口配置信息修改 (必要)")]),s("li",[this._v("JS接口安全域名修改 (不必要)")]),s("li",[this._v("体验接口权限表 - 网页授权获取用户基本信息 - 修改 (必要) ★被坑2小时半★")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_10-5-调整路由-控制器-数据-api-的分层结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10-5-调整路由-控制器-数据-api-的分层结构","aria-hidden":"true"}},[this._v("#")]),this._v(" 10-5 调整路由-控制器-数据 API 的分层结构")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("让路由更专注于路由的转发")]),s("li",[this._v("让控制器更专业于业务的流转")]),s("li",[this._v("让model(数据API)更专注于数据的流入与读出")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在业务紧急时会有很多略带臃肿的面条代码，或者很多颗粒度划分得不够精细的模块，所以当业务跑通后我们需要第一时间对代码进行“"),s("strong",[this._v("重构")]),this._v("”。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_13-0-额外调试"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-0-额外调试","aria-hidden":"true"}},[this._v("#")]),this._v(" 13-0 额外调试")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("把线上代码和课程代码clone后，改APPID本地运行对比调试，找手写代码bug~")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"_13-1-课程总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13-1-课程总结","aria-hidden":"true"}},[this._v("#")]),this._v(" 13-1 课程总结")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("p",[this._v("技能覆盖面。对现有市面上或者近些年来流行的前段的技术点了解过多少、使用过多少、深入研究过多少，这么一听就能知道其能解决问题的范围、能适应的场景及其优劣势，这个点的背后反映的是对技术的敏感度、对技术的视野以及面对新老技术的包容度")])]),s("li",[s("p",[this._v("技术技能深度。什么是基础技能深度呢？html、css、js的基础知识扎实程度，http静态资源的网络优化，和单个知识点、技能点向下挖掘的深度能到多少。这个放映的是面对市面上五花八门的技术，能不能沉下心、稳下心在做业务的同时，不断的向下扩张、向下去挖掘，从而解决比较困难的问题")])]),s("li",[s("p",[this._v("主动解题能力。面对一个未知的、或目前尚不了解的、或不熟悉的领域、或者是一个比较奇葩的技术难题，能不能打开思路，很快的抓住问题的脉络，利用各种资源，不管是人脉资源还是搜索能力，能够把问题pass掉，那么这个就是其解题能力，并且要加上“主动”两个字。这个点能够放映的是作为一个工程技术人员，能不能形成一套有效的方法论和解题思路，那么只有通过整个自我驱动的过程，你才能不断的训练自己的思维能力和解题能力")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"第-14-章：自我扩展"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第-14-章：自我扩展","aria-hidden":"true"}},[this._v("#")]),this._v(" 第 14 章：自我扩展")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",[a("li",[a("code",[t._v("/server/database/schema/")]),t._v("目录下添加collection对应的schema，其中不仅限于定义、虚拟字段、pre、静态方法、实例方法等")]),a("li",[a("code",[t._v("/server/api/")]),t._v("目录添加数据层逻辑")]),a("li",[a("code",[t._v("/server/api/index.js")]),t._v("添加新的导出对象")]),a("li",[a("code",[t._v("/server/routes/")]),t._v("目录添加新的子路由")]),a("li",[a("code",[t._v("/server/middlewares/")]),t._v("[可选]添加collection初始化")])])}],!1,null,null,null);s.default=e.exports}}]);