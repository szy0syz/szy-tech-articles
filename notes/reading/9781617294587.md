# Progressive Web Apps

![9781617294587](../../static/img/9781617294587.jpg)

## 第1章

### 1.1 PWA有什么优势

PWA应该具备以下特点：

- 响应式
- 独立于网络连接
- 类似原生应用的交互体验
- 始终保持更新
- 安全
- 可发现
- 可重连
- 可安装
- 可链接

如果你构建了一个PWA，即使在一个不支持的老旧浏览器上运行，它仍然可以作为一个普通的网站运行。这就是PWA最棒的一点——渐进式。

#### 1.1.1 PWA基础

PWA指向一个清单文件(manifest)，其中包含网站相关信息，包括图标，背景屏幕和默认方向等。

PWA使用了叫做`Service Workers`的重要新功能，它可以拦截并缓存任何来自网站的网络请求。

简而言之，PWA不仅仅是一组非常棒的新功能，它们实际上是我们构建更好的网站的一种方式。

#### 1.1.2 构建PWA的业务场景

- 在线报纸服务，人们通过它来了解当地新闻。如果你知道有人经常访问你的网站并浏览多个网页，为什么不提前缓存这些页面，这样他们就可以完全离线浏览行文？
- 慈善机构Web应用服务，是他们在没有网络连接的现场也能收集信息。一旦他们回到办公室或有网络连接的区域，数据就可以同步到服务器。

对于Web开发者来说，PWA是个彻底的颠覆者。PWA另一个很棒的点是他们用Web开发者所熟悉和喜爱的技术所构建。如CSS、JavaScript和HTML都是构建PWA的基石。

### 1.2 Service Workers: PWA 的关键

就其核心来说，`Service Workers` 只是后台运行的 `worker` 脚本。只需短短几行代码，他们便可以使开发者能够拦截网络请求，处理推送消息并执行其它任务。

#### 1.2.1 理解 Service Workers

> “将你的网络请求想象成飞机起飞。Service Worker 是路由请求的空中交通管制员。它可以通过网络加载，或甚至通过缓存加载。”

`Service Workers` 的几个特点：

- 运行在它自己的全局脚本上下文中
- 不绑定到具体的网页
- 无法修改网页中的元素，因为它无法访问 DOM
- 只能使用 HTTPS

`Service Workers` 是基于**事件驱动**的。