# ç å³°å‰ç«¯å…¨æ ˆåŸ¹è®­ç¬¬ä¸‰å‘¨ï¼šdomç›’å­æ¨¡å‹å®æˆ˜å’Œdomåº“å°è£…

## è¯¾æ—¶48ï¼šç›’å­æ¨¡å‹å¸¸ç”¨çš„å±æ€§(å‰8ä¸ª)

#### JavaScriptç›’å­æ¨¡å‹æŒ‡çš„æ˜¯é€šè¿‡JSæä¾›çš„ä¸€äº›åˆ—å±æ€§å’Œæ–¹æ³•ï¼Œè·å–é¡µé¢ä¸­å…ƒç´ çš„æ ·å¼ä¿¡æ¯å€¼(å°±æ˜¯è·å–domå¯¹è±¡åæ“ä½œé‚£äº›å…³äºæ ·å¼çš„å±æ€§å’Œæ–¹æ³•)

![image.png-72.1kB][1]

å†…å®¹çš„å®½åº¦å’Œé«˜åº¦å°±æ˜¯æˆ‘ä»¬è®¾ç½®çš„widthå’Œheightè¿™ä¸¤ä¸ªæ ·å¼å°±æ˜¯å†…å®¹çš„å®½å’Œé«˜ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®é«˜åº¦å€¼ï¼Œå®¹å™¨çš„é«˜åº¦ä¼šæ ¹æ®é‡Œé¢å†…å®¹è‡ªå·±è¿›è¡Œé€‚åº”ï¼Œè¿™æ ·è·å–çš„å€¼å°±æ˜¯çœŸå®å†…å®¹çš„é«˜ï¼›å¦‚æœè®¾ç½®äº†å›ºå®šçš„é«˜åº¦äº†ï¼Œä¸ç®¡å†…å®¹æ˜¯å¤šå°‘äº†è¿˜æ˜¯å°‘äº†ï¼Œå…¶å†…å®¹çš„é«˜åº¦ä¼šå›ºå®šä¸ºæˆ‘ä»¬è®¾ç½®çš„é‚£ä¸ªå€¼ã€‚

çœŸå®çš„å†…å®¹çš„é«˜åº¦å’Œå®½åº¦ï¼šè¿™ä¸ªä»£æŒ‡çš„æ˜¯æˆ‘ä»¬å®é™…å†…å®¹çš„é«˜åº¦(å’Œæˆ‘ä»¬è®¾ç½®çš„heightæ²¡æœ‰å¿…ç„¶å…³ç³»)ï¼Œä¾‹å¦‚ï¼šæˆ‘ä»¬è®¾ç½®é«˜åº¦ä¸º200pxï¼Œå¦‚æœå†…å®¹æœ‰æº¢å‡ºï¼Œé‚£ä¹ˆçœŸæ˜¯å†…å®¹çš„é«˜åº¦ä¼šæŠŠæº¢å‡ºå†…å®¹çš„é«˜åº¦ä¹ŸåŠ è¿›æ¥ã€‚

#### clientç³»åˆ—å±æ€§
- clientHeight/clientWidthï¼šå†…å®¹+ä¸Šä¸‹æˆ–å·¦å³paddingå¡«å……çš„å€¼(å’Œå†…å®¹æ˜¯å¦æº¢å‡ºæ²¡å…³ç³»)
- clientLeft/clientTopï¼šå·¦è¾¹æ¡†çš„å®½åº¦/ä¸Šè¾¹æ¡†çš„é«˜åº¦ (å°±æ˜¯border[Left/Top]Width)

#### offsetç³»åˆ—å±æ€§

- offsetHeight/offsetWidthï¼šå…¨ç­‰äº(clientHeight+ä¸Šä¸‹borderè¾¹æ¡†)/(clientWidth+å·¦å³borderè¾¹æ¡†) -> åŒæ ·çš„å’Œå†…å®¹æ˜¯å¦æº¢å‡ºæ²¡æœ‰ä»»ä½•å…³ç³»
- offsetParentï¼šå½“å‰å…ƒç´ çš„çˆ¶çº§å‚ç…§ç‰©
- offsetLeft/offsetTopï¼šå½“å‰å…ƒç´ çš„å¤–è¾¹æ¡†è·ç¦»çˆ¶çº§å‚ç…§ç‰©å†…è¾¹æ¡†çš„åç§»é‡

#### scrollç³»åˆ—å±æ€§

- scrollHeight/scrollWidth
  - åœ¨å†…å®¹æ²¡æº¢å‡ºçš„å‰æä¸‹ï¼Œä¸¤è€…å’ŒclientHeigth/clientWidthä¸€æ ·ï¼›
  - åœ¨å†…å®¹æœ‰æº¢å‡ºçš„å‰æä¸‹ï¼Œä¸¤è€…è·å–çš„å€¼æœ‰å¦‚ä¸‹è§„åˆ™ï¼šscrollHeightä¸ºçœŸå®å†…å®¹çš„é«˜åº¦(åŒ…å«æº¢å‡º)+ä¸Špaddingå¡«å……ï¼ŒscrollWidthä¸ºçœŸå®å†…å®¹çš„å®½åº¦+å·¦paddingå¡«å……ï¼›ä¸¤è€…è·å–çš„ç»“æœå€¼éƒ½æ˜¯â€œçº¦ç­‰äºâ€çš„å€¼ï¼Œå› ä¸ºåœ¨ç»Ÿä¸€æµè§ˆå™¨ä¸­ï¼Œæˆ‘ä»¬æ˜¯å¦è®¾ç½®äº†cssæ ·å¼`overflow:'ha  dden'`å¯¹äºæœ€ç»ˆçš„ç»“æœæ˜¯æœ‰å½±å“çš„ï¼›åœ¨ä¸åŒæµè§ˆå™¨ä¸­æˆ‘ä»¬å›å»çš„ç»“æœå€¼ä¹Ÿæ˜¯ä¸åŒ(IE6~7)

- scrollLeft/scrollTopï¼šæ»šåŠ¨æ¡å·å»çš„å®½åº¦æˆ–é«˜åº¦

#### å…³äºJavaScriptç›’å­æ¨¡å‹å–å€¼çš„é—®é¢˜

- æˆ‘ä»¬é€šè¿‡ğŸ‘†ä¸Šé¢ğŸ‘†è¿™13ä¸ªå±æ€§å€¼è·å–çš„æ°¸è¿œä¸ä¼šå‡ºç°å°æ•°ç‚¹ï¼Œéƒ½æ˜¯æ•´æ•°ï¼›æµè§ˆå™¨åœ¨è·å–ç»“æœæ—¶ï¼Œè¿˜åœ¨åŸæ¥çœŸå®ç»“æœçš„åŸºç¡€ä¸Šè¿›è¡Œå››èˆäº”å…¥çš„å–æ•´ã€‚

#### å…³äºæ“ä½œæµè§ˆå™¨æœ¬èº«çš„ç›’å­æ¨¡å‹ä¿¡æ¯

```javascript
document.documentElement.scrollTop // -> æˆ‘ä»¬å‘ç°è¿™è´§å“ˆå“ˆéƒ½æ˜¯0ï¼Œä¸ä¼šå˜ï¼
document.body.scrollTop // -> åˆå‘ç°è¿™è´§ä¼šéšç€æ»šåŠ¨æ¡è€Œæ”¹å˜ï¼Œä½ è®¾ç½®å®ƒåæµè§ˆå™¨çš„å®é™…æ»šåŠ¨æ¡éƒ½ä¼šæ”¹å˜ï¼
```

- å¯¹äºæµè§ˆå™¨æ¥è¯´ï¼ŒclientWidthå’ŒclientHeightæ˜¯å½“å‰å¯è§åŒºåŸŸ(ä¸‹é¢å¯èƒ½è¿˜æœ‰å†…å®¹)çš„å®½å’Œé«˜
- scrollWidth/scrollHeightå°±æ˜¯å½“å‰é¡µé¢çš„çœŸå®å®½åº¦å’Œé«˜åº¦(æ‰€æœ‰è¦æ˜¾ç¤ºå†…å®¹åŠ èµ·æ¥çš„å®½é«˜ï¼Œä½†æ˜¯ä¸ªçº¦ç­‰äºå€¼ï¼Œè‹¥æœ‰æ‡’æƒ°åŠ è½½çš„å›¾ç‰‡ä¼šå½±å“é«˜åº¦)
- ä»…å¯¹æ“ä½œæµè§ˆå™¨é¡µé¢---->æˆ‘ä»¬ä¸ç®¡è¦è¯»å†™å“ªäº›å±æ€§ï¼Œä¹Ÿä¸ç®¡æ˜¯ç”¨ä»€ä¹ˆæµè§ˆå™¨ï¼Œæƒ³è¦éƒ½å…¼å®¹çš„è¯ï¼Œéœ€è¦è¯»å†™ä¸¤å¥—å±æ€§ï¼š
  - `document.documentElement[attr] || document.body[attr]` 
  - è€Œä¸”åœ¨æ“ä½œæ—¶å¿…é¡»`document.documentElement[attr]`å…ˆæ“ä½œ

```javascript
// [è·å–å½“å‰é¡µé¢çš„çœŸå®å®½åº¦æˆ–é«˜åº¦]
var winHeight = document.documentElement.clientWidth || document.body.clientWidth
// [è®¾ç½®å½“å‰é¡µé¢æ»šåŠ¨æ¡çš„é«˜åº¦]
document.documentElement.scrollTop = 1000
document.body.scrollTop = 1000

// å°è£…ä¸€ä¸ªå‡½æ•°ï¼Œå®ç°å¯¹æµè§ˆå™¨å„é¡¹å±æ€§çš„è¯»å†™
function win (attr, val) {
  if (!attr) {
    return document.documentElement[attr] || document.body[attr]
  }
  document.documentElement[attr] = val
  document.body[attr] = val
}
```




  [1]: http://static.zybuluo.com/szy0syz/yrvs2poihx4r4qdmgqjjigy4/image.png
